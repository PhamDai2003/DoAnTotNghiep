@model IEnumerable<PhamVanDai_Handmade.Models.ViewModels.FeaturedCategoryViewModel>
<form id="filter-form">
    @Html.AntiForgeryToken()
</form>
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <div class="section-title">
                <h2>Sản phẩm nổi bật</h2>
            </div>
            <div class="featured__controls">
                <ul>
                    <li class="active" data-filter="*">All</li>
                    @foreach (var item in Model)
                    {
                        <li data-filter=".@item.featuredCategory.Slug">@item.featuredCategory.CategoryName</li>

                    }
                </ul>
            </div>
        </div>
    </div>

    <div class="row featured__filter" id="results-grid">
        @{
            // Lấy danh sách sản phẩm đã wishlist (nếu có)
            var wishlistedIds = ViewData["WishlistedIds"] as List<int> ?? new List<int>();
            ViewData["WishlistedIds"] = wishlistedIds;
        }
        @foreach (var category in Model)
        {
            @foreach(var item in category.FeaturedProducts)
            {
                <div class="col-lg-3 col-md-4 col-sm-6 mt-4 mix @category.featuredCategory.Slug ">
                    @await Html.PartialAsync("_ProductCardPartial", item, ViewData)
                </div>
            }
        }
    </div>
</div>

